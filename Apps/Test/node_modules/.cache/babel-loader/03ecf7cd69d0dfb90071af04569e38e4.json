{"ast":null,"code":"// NOTE: this example keeps the access token in LocalStorage just because it's simpler\n// but in a real application you may want to use cookies instead for better security\nconst accessTokenKey = 'accessToken';\nexport function getAccessToken() {\n  return localStorage.getItem(accessTokenKey);\n}\nexport async function login(email, password) {\n  const response = await fetch('http://localhost:9000/login', {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json'\n    },\n    body: JSON.stringify({\n      email,\n      password\n    })\n  });\n\n  if (response.ok) {\n    const {\n      token\n    } = await response.json();\n    localStorage.setItem(accessTokenKey, token);\n  }\n\n  return response.ok;\n}\nexport function isLoggedIn() {\n  return !!localStorage.getItem(accessTokenKey);\n}\nexport function logout() {\n  localStorage.removeItem(accessTokenKey);\n}","map":{"version":3,"sources":["/media/zen/Bioinformatics/Oncology/Project/COS/Apps/Test/src/auth.js"],"names":["accessTokenKey","getAccessToken","localStorage","getItem","login","email","password","response","fetch","method","headers","body","JSON","stringify","ok","token","json","setItem","isLoggedIn","logout","removeItem"],"mappings":"AAAA;AACA;AAEA,MAAMA,cAAc,GAAG,aAAvB;AAEA,OAAO,SAASC,cAAT,GAA0B;AAC/B,SAAOC,YAAY,CAACC,OAAb,CAAqBH,cAArB,CAAP;AACD;AAED,OAAO,eAAeI,KAAf,CAAqBC,KAArB,EAA4BC,QAA5B,EAAsC;AAC3C,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,6BAAD,EAAgC;AAC1DC,IAAAA,MAAM,EAAE,MADkD;AAE1DC,IAAAA,OAAO,EAAE;AAAC,sBAAgB;AAAjB,KAFiD;AAG1DC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACR,MAAAA,KAAD;AAAQC,MAAAA;AAAR,KAAf;AAHoD,GAAhC,CAA5B;;AAKA,MAAIC,QAAQ,CAACO,EAAb,EAAiB;AACf,UAAM;AAACC,MAAAA;AAAD,QAAU,MAAMR,QAAQ,CAACS,IAAT,EAAtB;AACAd,IAAAA,YAAY,CAACe,OAAb,CAAqBjB,cAArB,EAAqCe,KAArC;AACD;;AACD,SAAOR,QAAQ,CAACO,EAAhB;AACD;AAED,OAAO,SAASI,UAAT,GAAsB;AAC3B,SAAO,CAAC,CAAChB,YAAY,CAACC,OAAb,CAAqBH,cAArB,CAAT;AACD;AAED,OAAO,SAASmB,MAAT,GAAkB;AACvBjB,EAAAA,YAAY,CAACkB,UAAb,CAAwBpB,cAAxB;AACD","sourcesContent":["// NOTE: this example keeps the access token in LocalStorage just because it's simpler\n// but in a real application you may want to use cookies instead for better security\n\nconst accessTokenKey = 'accessToken';\n\nexport function getAccessToken() {\n  return localStorage.getItem(accessTokenKey);\n}\n\nexport async function login(email, password) {\n  const response = await fetch('http://localhost:9000/login', {\n    method: 'POST',\n    headers: {'content-type': 'application/json'},\n    body: JSON.stringify({email, password})\n  });\n  if (response.ok) {\n    const {token} = await response.json();\n    localStorage.setItem(accessTokenKey, token);\n  }\n  return response.ok;\n}\n\nexport function isLoggedIn() {\n  return !!localStorage.getItem(accessTokenKey);\n}\n\nexport function logout() {\n  localStorage.removeItem(accessTokenKey);\n}\n"]},"metadata":{},"sourceType":"module"}